# Hot key 대응

레디스는 싱글 스레드로 동작함. 한 사용자가 오래 걸리는 커멘드를 사용한다면 나머지 요청들은 처리할 수 없고 대기 하게 됩니다.

```
keys 명령어 대신에 scan 명령어 사용하기.

hash가 sorted set의 경우 키 내부에 데이터가 많아질 수록 성능이 저하됨.

그래서 하나의 키에 백만개 이상 저장하지 않도록 한다.

데이터가 많은 키의 값을 조회하는 경우 hgetall을 사용하지 않고 hscan을 사용할 것.

데이터가 많은 키를 삭제하는 경우 del을 사용하지 않고 unlink 커맨드를 사용할 것. (키를 백그라운드에서 삭제한다고 함.)
```
