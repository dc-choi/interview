# 정규화

이상 문제를 해결하기 위해 속성들끼리의 종속 관계를 분석하여 여러개의 릴레이션으로 분해하는 과정이다.

일반적으로 테이블을 여러개로 분해하면 속도는 상대적으로 느려질 수 있지만, 분해하지 않으면 이상 문제들이 발생한다.

## 이상(Anomaly)의 종류
```
1. 삽입 이상: 릴레이션에 데이터를 삽입할 때 의도와 상관없이 원하지 않는 값들도 함께 삽입되는 현상이다 예들들어 홍길동 학생의 연락처만 추가하고 싶을 때, 과목코드가 비어 NULL 값을 가지게 되어 문제가 발생한다.
2. 삭제 이상: 릴레이션에서 한 튜플을 삭제할 때 의도와 상관없는 값들도 함께 삭제되는 현상이다.예를들어 홍길동 학생이 과목을 수강 취소할 경우, 취소 사유를 물을 수 있는 유일한 정보인 연락처를 잃게된다.
3. 갱신 이상: 릴레이션에서 튜플에 있는 속성 값을 갱신할 때 일부 튜플의 정보만 갱신되어 정보에 모순이 생기는 현상이다. 예를 들어 홍길동 학생이 연락처를 바꿨을 경우에 모든 과목에서 홍길동 학생의 연락처가 전부 갱신되어야 하는데 한 과목만 바뀌는 경우 발생한다.
```

## 1정규화
```
1. 테이블(릴레이션)이 제 1정규형을 만족한다는 것은 다음과 같다.
2. 어떤 릴레이션에 속한 모든 도메인이 원자값만으로 되어있다.
3. 모든 속성에 반복되는 그룹이 나타나지 않는다.
4. 기본키를 사용하여 관련 데이터의 각 집합을 고유하게 식별할 수 있어야 한다.
```

## 2정규화
```
1. 기본키가 아닌 모든 속성이 기본키에 대해 완전 함수적 종속을 만족하는 제 2정규형
2. 부분적 함수 종속을 제거하는 과정이다.
3. 함수적 종속? X의 값에 따라 Y의 값이 결정될 때 X → Y로 표현하는데, 이를 Y는 X에 대해 함수적 종속을 가진다고 한다. 예를들어 학번을 알면 이름을 알 수 있다. 학번(X)가 결정자, 이름(Y)이 종속자라고 한다.
4. 부분적 함수 종속: 기본키가 복합키일 경우 기본키중 하나만으로 Y의 값을 결정할 수 있을 때
```

## 3정규화
```
1. 기본키가 아닌 모든 속성이 기본키에 대해 이행적 함수 종속 관계를 만족하는 제 3정규형
2. 이행적 함수 종속: 기본키에 함수적 종속이 된 것이 아닌 후보키에 함수적 종속이 되어 있는 경우를 말한다.
```

## 보이스-코드 정규화
```
1. BCNF의 모든 결정자는 후보키여야 한다. 즉, 후보키가 일반속성에 종속되지 않아야 한다.
```
